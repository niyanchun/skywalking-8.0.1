{"remainingRequest":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/thread-loader/dist/cjs.js!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/babel-loader/lib/index.js!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/src/views/components/topology/chart/utils/tool.js","dependencies":[{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/src/views/components/topology/chart/utils/tool.js","mtime":1592485041000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.replace\";\n\n/**\n * Licensed to the Apache Software Foundation (ASF) under one or more\n * contributor license agreements.  See the NOTICE file distributed with\n * this work for additional information regarding copyright ownership.\n * The ASF licenses this file to You under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with\n * the License.  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar requireComponent = require.context('./tool', false, /\\.png$/);\n\nvar icons = {};\n\nfunction capitalizeFirstLetter(str) {\n  return str.toUpperCase();\n}\n\nfunction validateFileName(str) {\n  return /^\\S+\\.png$/.test(str) && str.replace(/^\\S+\\/(\\w+)\\.png$/, function (rs, $1) {\n    return capitalizeFirstLetter($1);\n  });\n}\n\nrequireComponent.keys().forEach(function (filePath) {\n  var componentConfig = requireComponent(filePath);\n  var fileName = validateFileName(filePath);\n  icons[fileName] = componentConfig;\n});\n\nvar Hexagon = function Hexagon(side, r, cx, cy) {\n  var path = '';\n\n  for (var i = 0; i < side; i += 1) {\n    var x = Math.cos((2 / side * i + 1 / side) * Math.PI) * r + cx;\n    var y = -Math.sin((2 / side * i + 1 / side) * Math.PI) * r + cy;\n    path += !i ? \"M\".concat(x, \",\").concat(y, \" \") : \"L\".concat(x, \",\").concat(y, \" \");\n    if (i == side - 1) path += 'Z';\n  }\n\n  return path;\n};\n\nexport default (function (graph, data) {\n  var tool = graph.append('g').attr('class', 'topo-tool');\n  var side = 6;\n\n  for (var i = 0; i < data.length; i += 1) {\n    var x = Math.cos(2 / side * i * Math.PI) * 34;\n    var y = -Math.sin(2 / side * i * Math.PI) * 34;\n    var tool_g = tool.append('g').attr('class', 'topo-tool-i').on('click', data[i].click);\n    tool_g.append('path').attr('class', 'tool-hexagon').attr('d', Hexagon(6, 17, x, y));\n    tool_g.append('svg:image').attr('width', 14).attr('height', 14).attr('x', x - 7).attr('y', y - 7).attr('style', 'opacity: 0.8').attr('xlink:href', icons[data[i].icon]);\n  }\n\n  return tool;\n});",{"version":3,"sources":["/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/src/views/components/topology/chart/utils/tool.js"],"names":["requireComponent","require","context","icons","capitalizeFirstLetter","str","toUpperCase","validateFileName","test","replace","rs","$1","keys","forEach","filePath","componentConfig","fileName","Hexagon","side","r","cx","cy","path","i","x","Math","cos","PI","y","sin","graph","data","tool","append","attr","length","tool_g","on","click","icon"],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one or more\n * contributor license agreements.  See the NOTICE file distributed with\n * this work for additional information regarding copyright ownership.\n * The ASF licenses this file to You under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with\n * the License.  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst requireComponent = require.context('./tool', false, /\\.png$/);\n\nconst icons = {};\nfunction capitalizeFirstLetter(str) {\n  return str.toUpperCase();\n}\nfunction validateFileName(str) {\n  return /^\\S+\\.png$/.test(str) && str.replace(/^\\S+\\/(\\w+)\\.png$/, (rs, $1) => capitalizeFirstLetter($1));\n}\nrequireComponent.keys().forEach((filePath) => {\n  const componentConfig = requireComponent(filePath);\n  const fileName = validateFileName(filePath);\n  icons[fileName] = componentConfig;\n});\n\nconst Hexagon = (side, r, cx, cy) => {\n  let path = '';\n  for (let i = 0; i < side; i += 1) {\n    let x = Math.cos(((2 / side) * i + 1 / side) * Math.PI) * r + cx;\n    let y = -Math.sin(((2 / side) * i + 1 / side) * Math.PI) * r + cy;\n    path += !i ? `M${x},${y} ` : `L${x},${y} `;\n    if (i == side - 1) path += 'Z';\n  }\n  return path;\n};\n\nexport default (graph, data) => {\n  const tool = graph.append('g').attr('class', 'topo-tool');\n  const side = 6;\n  for (let i = 0; i < data.length; i += 1) {\n    let x = Math.cos((2 / side) * i * Math.PI) * 34;\n    let y = -Math.sin((2 / side) * i * Math.PI) * 34;\n    const tool_g = tool\n      .append('g')\n      .attr('class', 'topo-tool-i')\n      .on('click', data[i].click);\n    tool_g\n      .append('path')\n      .attr('class', 'tool-hexagon')\n      .attr('d', Hexagon(6, 17, x, y));\n    tool_g\n      .append('svg:image')\n      .attr('width', 14)\n      .attr('height', 14)\n      .attr('x', x - 7)\n      .attr('y', y - 7)\n      .attr('style', 'opacity: 0.8')\n      .attr('xlink:href', icons[data[i].icon]);\n  }\n  return tool;\n};\n"]}]}