{"remainingRequest":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/thread-loader/dist/cjs.js!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/babel-loader/lib/index.js!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/ts-loader/index.js??ref--13-3!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/src/views/containers/dashboard.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/src/views/containers/dashboard.vue","mtime":1592485041000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/ts-loader/index.js","mtime":1545640398000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _JSON$stringify from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport * as tslib_1 from \"tslib\";\nimport { Component, Vue } from 'vue-property-decorator';\nimport { Action, Getter, State, Mutation } from 'vuex-class';\nimport ToolBar from '@/views/components/dashboard/tool-bar.vue';\nimport ToolGroup from '@/views/components/dashboard/tool-group.vue';\nimport ToolNav from '@/views/components/dashboard/tool-nav.vue';\nimport DashboardItem from '@/views/components/dashboard/dashboard-item.vue';\nimport { ObjectsType } from '../constant';\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(Dashboard, _Vue);\n\n  function Dashboard() {\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dashboard).apply(this, arguments));\n    _this.ObjectsType = ObjectsType;\n    _this.isRouterAlive = true;\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"reload\",\n    value: function reload() {\n      var _this2 = this;\n\n      this.isRouterAlive = false;\n      this.$nextTick(function () {\n        _this2.isRouterAlive = true;\n      });\n    }\n  }, {\n    key: \"handleOption\",\n    value: function handleOption() {\n      this.MIXHANDLE_GET_OPTION({\n        compType: this.compType,\n        duration: this.durationTime,\n        keywordServiceName: this.stateDashboardOption.keywordService\n      });\n    }\n  }, {\n    key: \"beforeMount\",\n    value: function beforeMount() {\n      var _this3 = this;\n\n      // this.ADD_TEMPLATE({\n      //   name: 'Topology Instance',\n      //   type: 'TOPOLOGY_INSTANCE',\n      //   active: true,\n      //   configuration: JSON.stringify(TopologyInstanceTemp),\n      // }).then((data: any) => {\n      //   console.log(data);\n      // });\n      if (window.localStorage.getItem('version') !== '8.0') {\n        this.GET_ALL_TEMPLATES().then(function (allTemplate) {\n          window.localStorage.removeItem('dashboard');\n\n          _this3.setDashboardTemplates(allTemplate);\n\n          _this3.handleOption();\n        });\n      } else {\n        var data = \"\".concat(window.localStorage.getItem('dashboard'));\n        this.SET_COMPS_TREE(JSON.parse(data));\n      }\n\n      this.handleOption();\n    }\n  }, {\n    key: \"setDashboardTemplates\",\n    value: function setDashboardTemplates(allTemplate) {\n      var template = allTemplate.filter(function (item) {\n        return item.type === 'DASHBOARD' && item.activated;\n      });\n      var templatesConfiguration = template.map(function (item) {\n        return JSON.parse(item.configuration);\n      }).flat(1);\n      this.SET_COMPS_TREE(templatesConfiguration || []);\n      window.localStorage.setItem('version', '8.0');\n      window.localStorage.setItem('dashboard', _JSON$stringify(templatesConfiguration));\n    }\n  }, {\n    key: \"beforeDestroy\",\n    value: function beforeDestroy() {\n      this.SET_EDIT(false);\n    }\n  }, {\n    key: \"compType\",\n    get: function get() {\n      return this.rocketComps.tree[this.rocketComps.group] && this.rocketComps.tree[this.rocketComps.group].type || 'service';\n    }\n  }]);\n\n  return Dashboard;\n}(Vue);\n\ntslib_1.__decorate([State('rocketbot')], Dashboard.prototype, \"rocketGlobal\", void 0);\n\ntslib_1.__decorate([State('rocketOption')], Dashboard.prototype, \"stateDashboardOption\", void 0);\n\ntslib_1.__decorate([State('rocketData')], Dashboard.prototype, \"rocketComps\", void 0);\n\ntslib_1.__decorate([Action('MIXHANDLE_GET_OPTION')], Dashboard.prototype, \"MIXHANDLE_GET_OPTION\", void 0);\n\ntslib_1.__decorate([Action('GET_ALL_TEMPLATES')], Dashboard.prototype, \"GET_ALL_TEMPLATES\", void 0);\n\ntslib_1.__decorate([Getter('durationTime')], Dashboard.prototype, \"durationTime\", void 0);\n\ntslib_1.__decorate([Mutation('SET_COMPS_TREE')], Dashboard.prototype, \"SET_COMPS_TREE\", void 0);\n\ntslib_1.__decorate([Mutation('ADD_COMP')], Dashboard.prototype, \"ADD_COMP\", void 0);\n\ntslib_1.__decorate([Mutation('SET_EDIT')], Dashboard.prototype, \"SET_EDIT\", void 0);\n\nDashboard = tslib_1.__decorate([Component({\n  components: {\n    ToolBar: ToolBar,\n    ToolGroup: ToolGroup,\n    ToolNav: ToolNav,\n    DashboardItem: DashboardItem\n  }\n})], Dashboard);\nexport default Dashboard;",{"version":3,"sources":["/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/src/views/containers/dashboard.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from 'vue-property-decorator';\nimport { Action, Getter, State, Mutation } from 'vuex-class';\nimport ToolBar from '@/views/components/dashboard/tool-bar.vue';\nimport ToolGroup from '@/views/components/dashboard/tool-group.vue';\nimport ToolNav from '@/views/components/dashboard/tool-nav.vue';\nimport DashboardItem from '@/views/components/dashboard/dashboard-item.vue';\nimport { ObjectsType } from '../constant';\n\ninterface ITemplate {\n  name: string;\n  type: string;\n  configuration: string;\n  activated: boolean;\n  disabled: boolean;\n}\n@Component({\n  components: {\n    ToolBar,\n    ToolGroup,\n    ToolNav,\n    DashboardItem,\n  },\n})\nexport default class Dashboard extends Vue {\n  @State('rocketbot') private rocketGlobal: any;\n  @State('rocketOption') private stateDashboardOption!: any;\n  @State('rocketData') private rocketComps!: any;\n  @Action('MIXHANDLE_GET_OPTION') private MIXHANDLE_GET_OPTION: any;\n  @Action('GET_ALL_TEMPLATES') private GET_ALL_TEMPLATES: any;\n  // @Action('ADD_TEMPLATE') private ADD_TEMPLATE: any;\n  @Getter('durationTime') private durationTime: any;\n  @Mutation('SET_COMPS_TREE') private SET_COMPS_TREE: any;\n  @Mutation('ADD_COMP') private ADD_COMP: any;\n  @Mutation('SET_EDIT') private SET_EDIT: any;\n\n  private ObjectsType = ObjectsType;\n\n  private isRouterAlive: boolean = true;\n  public reload(): void {\n    this.isRouterAlive = false;\n    this.$nextTick(() => {\n      this.isRouterAlive = true;\n    });\n  }\n  private get compType() {\n    return (\n      (this.rocketComps.tree[this.rocketComps.group] && this.rocketComps.tree[this.rocketComps.group].type) ||\n      'service'\n    );\n  }\n  private handleOption() {\n    this.MIXHANDLE_GET_OPTION({\n      compType: this.compType,\n      duration: this.durationTime,\n      keywordServiceName: this.stateDashboardOption.keywordService,\n    });\n  }\n  private beforeMount() {\n    // this.ADD_TEMPLATE({\n    //   name: 'Topology Instance',\n    //   type: 'TOPOLOGY_INSTANCE',\n    //   active: true,\n    //   configuration: JSON.stringify(TopologyInstanceTemp),\n    // }).then((data: any) => {\n    //   console.log(data);\n    // });\n    if (window.localStorage.getItem('version') !== '8.0') {\n      this.GET_ALL_TEMPLATES().then((allTemplate: ITemplate[]) => {\n        window.localStorage.removeItem('dashboard');\n        this.setDashboardTemplates(allTemplate);\n        this.handleOption();\n      });\n    } else {\n      const data: string = `${window.localStorage.getItem('dashboard')}`;\n      this.SET_COMPS_TREE(JSON.parse(data));\n    }\n    this.handleOption();\n  }\n  private setDashboardTemplates(allTemplate: ITemplate[]) {\n    const template = allTemplate.filter((item: ITemplate) => item.type === 'DASHBOARD' && item.activated);\n    const templatesConfiguration = template.map((item: ITemplate) => JSON.parse(item.configuration)).flat(1);\n\n    this.SET_COMPS_TREE(templatesConfiguration || []);\n    window.localStorage.setItem('version', '8.0');\n    window.localStorage.setItem('dashboard', JSON.stringify(templatesConfiguration));\n  }\n  private beforeDestroy() {\n    this.SET_EDIT(false);\n  }\n}\n"],"sourceRoot":""}]}