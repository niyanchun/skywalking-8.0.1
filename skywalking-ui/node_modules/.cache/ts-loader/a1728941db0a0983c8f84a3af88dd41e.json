{"remainingRequest":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/thread-loader/dist/cjs.js!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/babel-loader/lib/index.js!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/ts-loader/index.js??ref--13-3!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/src/utils/tooltip.ts","dependencies":[{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/src/utils/tooltip.ts","mtime":1592485041000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/ts-loader/index.js","mtime":1545640398000}],"contextDependencies":[],"result":["import _Object$assign from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/core-js/object/assign\";\nimport _typeof from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\n\n/**\n * Licensed to the Apache Software Foundation (ASF) under one or more\n * contributor license agreements.  See the NOTICE file distributed with\n * this work for additional information regarding copyright ownership.\n * The ASF licenses this file to You under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with\n * the License.  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport Popper from 'popper.js';\nimport './tooltip.scss';\n\nfunction setProperties(el, binding) {\n  el.popper._appendToBody = !(binding.value.appendToBody === false);\n\n  if (binding.modifiers.always) {\n    el.popper._always = binding.modifiers.always;\n  }\n\n  if (binding.modifiers.controlled) {\n    el.popper._controlled = binding.modifiers.controlled;\n  }\n\n  if (binding.modifiers.ellipsis) {\n    el.popper._ellipsis = binding.modifiers.ellipsis;\n  }\n\n  if (_typeof(binding.value) === 'object') {\n    el.popper._content = binding.value.content || '';\n    el.popper._delay = binding.value.delay;\n    el.popper._disabled = binding.value.disabled;\n  } else if (typeof binding.value === 'string') {\n    el.popper._content = binding.value;\n  } else {\n    el.popper._content = binding.expression;\n  }\n}\n\nfunction setAttributes($inner, el) {\n  var popper = el.popper;\n  $inner.innerHTML = el.popper._content;\n\n  if (!popper.popper) {\n    return;\n  }\n\n  var isShow = !popper._disabled && (popper._visible || popper._always) && (!popper._ellipsis || isEllipsisTooltip(el));\n\n  if (popper._appendToBody) {\n    if (isShow && popper.popper.parentNode !== document.body) {\n      document.body.appendChild(popper.popper);\n    }\n\n    if (!isShow && popper.popper.parentNode === document.body) {\n      document.body.removeChild(popper.popper);\n    }\n  } else {\n    popper.popper.style.display = isShow ? '' : 'none';\n  }\n}\n\nfunction handleShowPopper(e) {\n  var el = e.currentTarget;\n  el.popper._timer = setTimeout(function () {\n    el.popper._visible = true;\n    setAttributes(el.$inner, el);\n    el.popper.update();\n  }, el.popper._delay || 0);\n}\n\nfunction handleClosePopper(e) {\n  var el = e.currentTarget;\n  clearTimeout(el.popper._timer);\n\n  if (!el.popper._controlled) {\n    el.popper._visible = false;\n    setAttributes(el.$inner, el);\n    el.popper.update();\n  }\n} // 添加事件\n\n\nfunction addEvent(el) {\n  el.addEventListener('mouseenter', handleShowPopper);\n  el.addEventListener('mouseleave', handleClosePopper);\n} // 移除事件\n\n\nfunction removeEvent(el) {\n  el.removeEventListener('mouseenter', handleShowPopper);\n  el.removeEventListener('mouseleave', handleClosePopper);\n}\n\nfunction isEllipsisTooltip(el) {\n  return el.offsetWidth < el.scrollWidth;\n}\n\nexport default {\n  bind: function bind(el, binding, vnode) {\n    var placement = binding.arg || 'top';\n    var $popper = document.createElement('div');\n    $popper.setAttribute('class', 'rk-tooltip-popper');\n    var $content = document.createElement('div');\n    $content.setAttribute('class', 'rk-tooltip-content');\n    var $arrow = document.createElement('div');\n    $arrow.setAttribute('class', 'rk-tooltip-arrow');\n    $content.appendChild($arrow);\n    var $inner = document.createElement('div');\n    $inner.setAttribute('class', 'rk-tooltip-inner');\n    $content.appendChild($inner);\n    $popper.appendChild($content);\n\n    if (binding.value) {\n      if (binding.value.appendToBody === false) {\n        $popper.style.display = 'none';\n        el.appendChild($popper);\n      } else {\n        $popper.className += \" append-to-body \".concat(binding.value.popperCls ? binding.value.popperCls.join(' ') : '');\n      }\n    }\n\n    var options = _Object$assign({}, binding.value, {\n      placement: placement\n    });\n\n    el.$inner = $inner;\n    el.popper = new Popper(el, $popper, options);\n    setProperties(el, binding);\n    setAttributes($inner, el);\n  },\n  inserted: function inserted(el, binding, vnode, oldVnode) {\n    addEvent(el);\n  },\n  unbind: function unbind(el, binding, vnode, oldVnode) {\n    removeEvent(el);\n    el.popper.destroy();\n\n    if (binding.value.appendToBody === false) {\n      if (el.popper.popper) {\n        el.removeChild(el.popper.popper);\n      }\n    } else if (el.popper.popper && el.popper.popper.parentNode === document.body) {\n      document.body.removeChild(el.popper.popper);\n    }\n  },\n  componentUpdated: function componentUpdated(el, binding, vnode, oldVnode) {\n    setProperties(el, binding);\n    setAttributes(el.$inner, el);\n  }\n};",{"version":3,"sources":["/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/src/utils/tooltip.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one or more\n * contributor license agreements.  See the NOTICE file distributed with\n * this work for additional information regarding copyright ownership.\n * The ASF licenses this file to You under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with\n * the License.  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Popper from 'popper.js';\nimport './tooltip.scss';\n\nfunction setProperties(el: any, binding: any) {\n  el.popper._appendToBody = !(binding.value.appendToBody === false);\n  if (binding.modifiers.always) {\n    el.popper._always = binding.modifiers.always;\n  }\n  if (binding.modifiers.controlled) {\n    el.popper._controlled = binding.modifiers.controlled;\n  }\n  if (binding.modifiers.ellipsis) {\n    el.popper._ellipsis = binding.modifiers.ellipsis;\n  }\n  if (typeof binding.value === 'object') {\n    el.popper._content = binding.value.content || '';\n    el.popper._delay = binding.value.delay;\n    el.popper._disabled = binding.value.disabled;\n  } else if (typeof binding.value === 'string') {\n    el.popper._content = binding.value;\n  } else {\n    el.popper._content = binding.expression;\n  }\n}\n\nfunction setAttributes($inner: any, el: any) {\n  const popper = el.popper;\n  $inner.innerHTML = el.popper._content;\n  if (!popper.popper) {\n    return;\n  }\n  const isShow =\n    !popper._disabled &&\n    (popper._visible || popper._always) &&\n    (!popper._ellipsis || isEllipsisTooltip(el));\n\n  if (popper._appendToBody) {\n    if (isShow && popper.popper.parentNode !== document.body) {\n      document.body.appendChild(popper.popper);\n    }\n    if (!isShow && popper.popper.parentNode === document.body) {\n      document.body.removeChild(popper.popper);\n    }\n  } else {\n    popper.popper.style.display = isShow ? '' : 'none';\n  }\n}\n\nfunction handleShowPopper(e: any) {\n  const el = e.currentTarget;\n  el.popper._timer = setTimeout(() => {\n    el.popper._visible = true;\n    setAttributes(el.$inner, el);\n    el.popper.update();\n  }, el.popper._delay || 0);\n}\n\nfunction handleClosePopper(e: any) {\n  const el = e.currentTarget;\n  clearTimeout(el.popper._timer);\n  if (!el.popper._controlled) {\n    el.popper._visible = false;\n    setAttributes(el.$inner, el);\n    el.popper.update();\n  }\n}\n\n// 添加事件\nfunction addEvent(el: any) {\n  el.addEventListener('mouseenter', handleShowPopper);\n  el.addEventListener('mouseleave', handleClosePopper);\n}\n\n// 移除事件\nfunction removeEvent(el: any) {\n  el.removeEventListener('mouseenter', handleShowPopper);\n  el.removeEventListener('mouseleave', handleClosePopper);\n}\n\nfunction isEllipsisTooltip(el: any) {\n  return el.offsetWidth < el.scrollWidth;\n}\n\nexport default {\n  bind(el: any, binding: any, vnode: any) {\n    const placement = binding.arg || 'top';\n\n    const $popper = document.createElement('div');\n    $popper.setAttribute('class', 'rk-tooltip-popper');\n\n    const $content = document.createElement('div');\n    $content.setAttribute('class', 'rk-tooltip-content');\n\n    const $arrow = document.createElement('div');\n    $arrow.setAttribute('class', 'rk-tooltip-arrow');\n    $content.appendChild($arrow);\n\n    const $inner = document.createElement('div');\n    $inner.setAttribute('class', 'rk-tooltip-inner');\n\n    $content.appendChild($inner);\n    $popper.appendChild($content);\n    if (binding.value) {\n      if (binding.value.appendToBody === false) {\n        $popper.style.display = 'none';\n        el.appendChild($popper);\n      } else {\n        $popper.className += ` append-to-body ${\n          binding.value.popperCls ? binding.value.popperCls.join(' ') : ''\n        }`;\n      }\n    }\n\n    const options = Object.assign({}, binding.value, { placement });\n\n    el.$inner = $inner;\n    el.popper = new Popper(el, $popper, options);\n    setProperties(el, binding);\n    setAttributes($inner, el);\n  },\n  inserted(el: any, binding: any, vnode: any, oldVnode: any) {\n    addEvent(el);\n  },\n  unbind(el: any, binding: any, vnode: any, oldVnode: any) {\n    removeEvent(el);\n    el.popper.destroy();\n    if (binding.value.appendToBody === false) {\n      if (el.popper.popper) {\n        el.removeChild(el.popper.popper);\n      }\n    } else if (\n      el.popper.popper &&\n      el.popper.popper.parentNode === document.body\n    ) {\n      document.body.removeChild(el.popper.popper);\n    }\n  },\n  componentUpdated(el: any, binding: any, vnode: any, oldVnode: any) {\n    setProperties(el, binding);\n    setAttributes(el.$inner, el);\n  },\n};\n"],"sourceRoot":""}]}