{"remainingRequest":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/thread-loader/dist/cjs.js!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/babel-loader/lib/index.js!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/ts-loader/index.js??ref--13-3!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/src/views/containers/topology/topology.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/src/views/containers/topology/topology.vue","mtime":1592485041000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/ts-loader/index.js","mtime":1545640398000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _classCallCheck from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport * as tslib_1 from \"tslib\";\nimport { Vue, Component } from 'vue-property-decorator';\nimport { State, Action, Getter, Mutation } from 'vuex-class';\nimport { TopologyType } from '../../constant';\nimport WindowEndpoint from '@/views/containers/topology/endpoint/index.vue';\nimport WindowInstance from '@/views/containers/topology/instance/index.vue';\nimport WindowTrace from '@/views/containers/topology/trace/index.vue';\nimport WindowAlarm from '@/views/containers/topology/alarm/index.vue';\nimport Topo from '../../components/topology/chart/topo.vue';\nimport TopoAside from '../../components/topology/topo-aside.vue';\nimport TopoGroup from '../../components/topology/topo-group/index.vue';\n\nvar Topology =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(Topology, _Vue);\n\n  function Topology() {\n    var _this;\n\n    _classCallCheck(this, Topology);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Topology).apply(this, arguments));\n    _this.current = {};\n    _this.dialog = '';\n    _this.updateObjects = '';\n    return _this;\n  }\n\n  _createClass(Topology, [{\n    key: \"created\",\n    value: function created() {\n      if (window.localStorage.getItem('topologyInstances') || window.localStorage.getItem('topologyEndpoints')) {\n        var instanceComps = \"\".concat(window.localStorage.getItem('topologyInstances'));\n        var topoInstance = instanceComps ? JSON.parse(instanceComps) : [];\n        var endpointComps = \"\".concat(window.localStorage.getItem('topologyEndpoints'));\n        var topoEndpoint = endpointComps ? JSON.parse(endpointComps) : [];\n        this.SET_TOPO_INSTANCE(topoInstance);\n        this.SET_TOPO_ENDPOINT(topoEndpoint);\n      } else {\n        this.queryTemplates();\n      }\n    }\n  }, {\n    key: \"queryTemplates\",\n    value: function queryTemplates() {\n      var _this2 = this;\n\n      this.GET_ALL_TEMPLATES().then(function (allTemplates) {\n        var template = allTemplates.filter(function (item) {\n          return item.type === TopologyType.TOPOLOGY_INSTANCE && item.activated;\n        })[0] || {};\n        var instanceComps = JSON.parse(template.configuration) || [];\n\n        _this2.SET_TOPO_INSTANCE(instanceComps);\n\n        var endpointTemplate = allTemplates.filter(function (item) {\n          return item.type === TopologyType.TOPOLOGY_ENDPOINT && item.activated;\n        })[0] || {};\n        var endpointComps = JSON.parse(endpointTemplate.configuration) || [];\n\n        _this2.SET_TOPO_ENDPOINT(endpointComps);\n      });\n    }\n  }, {\n    key: \"setCurrent\",\n    value: function setCurrent(d) {\n      this.current = d;\n      this.SET_CURRENT_SERVICE(d);\n    }\n  }, {\n    key: \"beforeDestroy\",\n    value: function beforeDestroy() {\n      this.CLEAR_TOPO_INFO();\n      this.CLEAR_TOPO();\n    }\n  }, {\n    key: \"changeInstanceComps\",\n    value: function changeInstanceComps(data) {\n      this.updateObjects = data.type;\n\n      if (!data.json) {\n        return;\n      }\n\n      this.SET_TOPO_INSTANCE(data.json);\n    }\n  }, {\n    key: \"changeEndpointComps\",\n    value: function changeEndpointComps(data) {\n      this.updateObjects = data.type;\n\n      if (!data.json) {\n        return;\n      }\n\n      this.SET_TOPO_ENDPOINT(data.json);\n    }\n  }]);\n\n  return Topology;\n}(Vue);\n\ntslib_1.__decorate([State('rocketTopo')], Topology.prototype, \"stateTopo\", void 0);\n\ntslib_1.__decorate([Action('rocketTopo/CLEAR_TOPO')], Topology.prototype, \"CLEAR_TOPO\", void 0);\n\ntslib_1.__decorate([Action('rocketTopo/CLEAR_TOPO_INFO')], Topology.prototype, \"CLEAR_TOPO_INFO\", void 0);\n\ntslib_1.__decorate([Action('GET_ALL_TEMPLATES')], Topology.prototype, \"GET_ALL_TEMPLATES\", void 0);\n\ntslib_1.__decorate([Mutation('rocketTopo/SET_TOPO_ENDPOINT')], Topology.prototype, \"SET_TOPO_ENDPOINT\", void 0);\n\ntslib_1.__decorate([Mutation('rocketTopo/SET_TOPO_INSTANCE')], Topology.prototype, \"SET_TOPO_INSTANCE\", void 0);\n\ntslib_1.__decorate([Mutation('SET_CURRENT_SERVICE')], Topology.prototype, \"SET_CURRENT_SERVICE\", void 0);\n\ntslib_1.__decorate([Getter('durationTime')], Topology.prototype, \"durationTime\", void 0);\n\nTopology = tslib_1.__decorate([Component({\n  components: {\n    Topo: Topo,\n    TopoAside: TopoAside,\n    TopoGroup: TopoGroup,\n    WindowEndpoint: WindowEndpoint,\n    WindowInstance: WindowInstance,\n    WindowTrace: WindowTrace,\n    WindowAlarm: WindowAlarm\n  }\n})], Topology);\nexport default Topology;",{"version":3,"sources":["/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/src/views/containers/topology/topology.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from 'vue-property-decorator';\nimport { State, Action, Getter, Mutation } from 'vuex-class';\nimport { AxiosResponse } from 'axios';\nimport { State as topoState } from '@/store/modules/topology';\nimport { TopologyType } from '../../constant';\nimport WindowEndpoint from '@/views/containers/topology/endpoint/index.vue';\nimport WindowInstance from '@/views/containers/topology/instance/index.vue';\nimport WindowTrace from '@/views/containers/topology/trace/index.vue';\nimport WindowAlarm from '@/views/containers/topology/alarm/index.vue';\nimport Topo from '../../components/topology/chart/topo.vue';\nimport TopoAside from '../../components/topology/topo-aside.vue';\nimport TopoGroup from '../../components/topology/topo-group/index.vue';\n\n@Component({\n  components: {\n    Topo,\n    TopoAside,\n    TopoGroup,\n    WindowEndpoint,\n    WindowInstance,\n    WindowTrace,\n    WindowAlarm,\n  },\n})\nexport default class Topology extends Vue {\n  @State('rocketTopo') private stateTopo!: topoState;\n  @Action('rocketTopo/CLEAR_TOPO') private CLEAR_TOPO: any;\n  @Action('rocketTopo/CLEAR_TOPO_INFO') private CLEAR_TOPO_INFO: any;\n  @Action('GET_ALL_TEMPLATES') private GET_ALL_TEMPLATES: any;\n  @Mutation('rocketTopo/SET_TOPO_ENDPOINT') private SET_TOPO_ENDPOINT: any;\n  @Mutation('rocketTopo/SET_TOPO_INSTANCE') private SET_TOPO_INSTANCE: any;\n  @Mutation('SET_CURRENT_SERVICE') private SET_CURRENT_SERVICE: any;\n  @Getter('durationTime') private durationTime: any;\n\n  private current: any = {};\n  private dialog: string = '';\n  private updateObjects: string = '';\n\n  private created() {\n    if (window.localStorage.getItem('topologyInstances') || window.localStorage.getItem('topologyEndpoints')) {\n      const instanceComps: string = `${window.localStorage.getItem('topologyInstances')}`;\n      const topoInstance = instanceComps ? JSON.parse(instanceComps) : [];\n      const endpointComps: string = `${window.localStorage.getItem('topologyEndpoints')}`;\n      const topoEndpoint = endpointComps ? JSON.parse(endpointComps) : [];\n      this.SET_TOPO_INSTANCE(topoInstance);\n      this.SET_TOPO_ENDPOINT(topoEndpoint);\n    } else {\n      this.queryTemplates();\n    }\n  }\n  private queryTemplates() {\n    this.GET_ALL_TEMPLATES().then(\n      (\n        allTemplates: Array<{\n          name: string;\n          type: string;\n          configuration: string;\n          activated: boolean;\n          disabled: boolean;\n        }>,\n      ) => {\n        const template =\n          allTemplates.filter((item: any) => item.type === TopologyType.TOPOLOGY_INSTANCE && item.activated)[0] || {};\n        const instanceComps = JSON.parse(template.configuration) || [];\n        this.SET_TOPO_INSTANCE(instanceComps);\n        const endpointTemplate =\n          allTemplates.filter((item: any) => item.type === TopologyType.TOPOLOGY_ENDPOINT && item.activated)[0] || {};\n        const endpointComps = JSON.parse(endpointTemplate.configuration) || [];\n        this.SET_TOPO_ENDPOINT(endpointComps);\n      },\n    );\n  }\n  private setCurrent(d: any): void {\n    this.current = d;\n    this.SET_CURRENT_SERVICE(d);\n  }\n  private beforeDestroy() {\n    this.CLEAR_TOPO_INFO();\n    this.CLEAR_TOPO();\n  }\n  private changeInstanceComps(data: { type: string; json: any }) {\n    this.updateObjects = data.type;\n    if (!data.json) {\n      return;\n    }\n    this.SET_TOPO_INSTANCE(data.json);\n  }\n  private changeEndpointComps(data: { type: string; json: any }) {\n    this.updateObjects = data.type;\n    if (!data.json) {\n      return;\n    }\n    this.SET_TOPO_ENDPOINT(data.json);\n  }\n}\n"],"sourceRoot":""}]}