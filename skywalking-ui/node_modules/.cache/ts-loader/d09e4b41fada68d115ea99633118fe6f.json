{"remainingRequest":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/thread-loader/dist/cjs.js!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/babel-loader/lib/index.js!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/ts-loader/index.js??ref--13-3!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/src/views/components/dashboard/charts/chart-heatmap.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/src/views/components/dashboard/charts/chart-heatmap.vue","mtime":1592485041000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/ts-loader/index.js","mtime":1545640398000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _toConsumableArray from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport * as tslib_1 from \"tslib\";\nimport Vue from 'vue';\nimport { Component, Prop } from 'vue-property-decorator';\nimport 'echarts/lib/component/visualMap';\n\nvar ChartHeatmap =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(ChartHeatmap, _Vue);\n\n  function ChartHeatmap() {\n    _classCallCheck(this, ChartHeatmap);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ChartHeatmap).apply(this, arguments));\n  }\n\n  _createClass(ChartHeatmap, [{\n    key: \"resize\",\n    value: function resize() {\n      var chart = this.$refs.chart;\n      chart.myChart.resize();\n    }\n  }, {\n    key: \"generatePieces\",\n    value: function generatePieces(maxValue, colorBox, minItem) {\n      var pieces = [];\n      var quotient = 1;\n      var temp = {};\n      temp.max = minItem;\n      temp.min = minItem;\n      temp.color = colorBox[0];\n      pieces.push(temp);\n\n      if (maxValue && maxValue >= 19) {\n        quotient = Math.floor(maxValue / 19);\n\n        for (var i = 1; i < 20; i++) {\n          temp = {};\n\n          if (i === 1) {\n            temp.min = minItem;\n          } else {\n            temp.min = quotient * (i - 1);\n          }\n\n          temp.max = quotient * i;\n          temp.color = colorBox[i];\n          pieces.push(temp);\n        }\n      }\n\n      var length = pieces.length;\n\n      if (length) {\n        var item = pieces[length - 1];\n        item.max = maxValue;\n      }\n\n      return pieces;\n    }\n  }, {\n    key: \"option\",\n    get: function get() {\n      var _this = this;\n\n      var source = (this.data.nodes || []).map(function (d) {\n        return d[2];\n      });\n      var maxItem = Math.max.apply(Math, _toConsumableArray(source));\n      var minItem = Math.min.apply(Math, _toConsumableArray(source));\n      var colorBox = ['#fff', '#FDF0F0', '#FAE2E2', '#F8D3D3', '#F6C4C4', '#F4B5B5', '#F1A7A7', '#EF9898', '#E86C6C', '#E44E4E', '#E23F3F', '#DF3131', '#DD2222', '#CE2020', '#C01D1D', '#B11B1B', '#A21919', '#851414', '#761212', '#671010'];\n      return {\n        tooltip: {\n          position: 'top',\n          formatter: function formatter(a) {\n            return \"\".concat(a.data[1] * 100).concat(_this.item.unit, \"  [ \").concat(a.data[2], \" ]\");\n          },\n          textStyle: {\n            fontSize: 13\n          }\n        },\n        grid: {\n          top: 15,\n          left: 0,\n          right: 10,\n          bottom: 5,\n          containLabel: true\n        },\n        xAxis: {\n          type: 'category',\n          data: this.intervalTime,\n          axisTick: {\n            lineStyle: {\n              color: '#c1c5ca'\n            },\n            alignWithLabel: true\n          },\n          splitLine: {\n            show: false\n          },\n          axisLine: {\n            lineStyle: {\n              color: 'rgba(0,0,0,0)'\n            }\n          },\n          axisLabel: {\n            color: '#9da5b2',\n            fontSize: '11'\n          }\n        },\n        visualMap: [{\n          min: minItem,\n          max: maxItem,\n          show: false,\n          type: 'piecewise',\n          calculable: true,\n          pieces: this.generatePieces(maxItem, colorBox, minItem)\n        }],\n        yAxis: {\n          type: 'category',\n          axisLine: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          },\n          splitLine: {\n            lineStyle: {\n              color: '#c1c5ca',\n              type: 'dashed'\n            }\n          },\n          axisLabel: {\n            color: '#9da5b2',\n            fontSize: '11'\n          },\n          data: this.data.buckets\n        },\n        series: [{\n          type: 'heatmap',\n          data: this.data.nodes || [],\n          itemStyle: {\n            emphasis: {\n              shadowBlur: 10,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }]\n      };\n    }\n  }]);\n\n  return ChartHeatmap;\n}(Vue);\n\ntslib_1.__decorate([Prop()], ChartHeatmap.prototype, \"title\", void 0);\n\ntslib_1.__decorate([Prop()], ChartHeatmap.prototype, \"type\", void 0);\n\ntslib_1.__decorate([Prop()], ChartHeatmap.prototype, \"data\", void 0);\n\ntslib_1.__decorate([Prop()], ChartHeatmap.prototype, \"intervalTime\", void 0);\n\ntslib_1.__decorate([Prop()], ChartHeatmap.prototype, \"item\", void 0);\n\nChartHeatmap = tslib_1.__decorate([Component], ChartHeatmap);\nexport default ChartHeatmap;",{"version":3,"sources":["/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Files/Study/apm/apache-skywalking-apm-8.0.1/skywalking-ui/src/views/components/dashboard/charts/chart-heatmap.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { Component, Prop } from 'vue-property-decorator';\nimport 'echarts/lib/component/visualMap';\nimport moment from 'dayjs';\n@Component\nexport default class ChartHeatmap extends Vue {\n  @Prop() private title!: string;\n  @Prop() private type!: string;\n  @Prop() private data!: any;\n  @Prop() private intervalTime!: any;\n  @Prop() private item!: any;\n  public resize() {\n    const chart: any = this.$refs.chart;\n    chart.myChart.resize();\n  }\n  get option() {\n    const source = (this.data.nodes || []).map((d: number[]) => d[2]);\n    const maxItem = Math.max(...source);\n    const minItem = Math.min(...source);\n    const colorBox = [\n      '#fff',\n      '#FDF0F0',\n      '#FAE2E2',\n      '#F8D3D3',\n      '#F6C4C4',\n      '#F4B5B5',\n      '#F1A7A7',\n      '#EF9898',\n      '#E86C6C',\n      '#E44E4E',\n      '#E23F3F',\n      '#DF3131',\n      '#DD2222',\n      '#CE2020',\n      '#C01D1D',\n      '#B11B1B',\n      '#A21919',\n      '#851414',\n      '#761212',\n      '#671010',\n    ];\n    return {\n      tooltip: {\n        position: 'top',\n        formatter: (a: any) => `${a.data[1] * 100}${this.item.unit}  [ ${a.data[2]} ]`,\n        textStyle: {\n          fontSize: 13,\n        },\n      },\n      grid: {\n        top: 15,\n        left: 0,\n        right: 10,\n        bottom: 5,\n        containLabel: true,\n      },\n      xAxis: {\n        type: 'category',\n        data: this.intervalTime,\n        axisTick: {\n          lineStyle: { color: '#c1c5ca' },\n          alignWithLabel: true,\n        },\n        splitLine: { show: false },\n        axisLine: { lineStyle: { color: 'rgba(0,0,0,0)' } },\n        axisLabel: { color: '#9da5b2', fontSize: '11' },\n      },\n      visualMap: [\n        {\n          min: minItem,\n          max: maxItem,\n          show: false,\n          type: 'piecewise',\n          calculable: true,\n          pieces: this.generatePieces(maxItem, colorBox, minItem),\n        },\n      ],\n      yAxis: {\n        type: 'category',\n        axisLine: { show: false },\n        axisTick: { show: false },\n        splitLine: { lineStyle: { color: '#c1c5ca', type: 'dashed' } },\n        axisLabel: { color: '#9da5b2', fontSize: '11' },\n        data: this.data.buckets,\n      },\n      series: [\n        {\n          type: 'heatmap',\n          data: this.data.nodes || [],\n          itemStyle: {\n            emphasis: {\n              shadowBlur: 10,\n              shadowColor: 'rgba(0, 0, 0, 0.5)',\n            },\n          },\n        },\n      ],\n    };\n  }\n  private generatePieces(maxValue: number, colorBox: string[], minItem: number) {\n    const pieces = [];\n    let quotient = 1;\n    let temp = {} as any;\n    temp.max = minItem;\n    temp.min = minItem;\n    temp.color = colorBox[0];\n    pieces.push(temp);\n    if (maxValue && maxValue >= 19) {\n      quotient = Math.floor(maxValue / 19);\n      for (let i = 1; i < 20; i++) {\n        temp = {} as any;\n        if (i === 1) {\n          temp.min = minItem;\n        } else {\n          temp.min = quotient * (i - 1);\n        }\n        temp.max = quotient * i;\n        temp.color = colorBox[i];\n        pieces.push(temp);\n      }\n    }\n    const length = pieces.length;\n    if (length) {\n      const item = pieces[length - 1];\n      item.max = maxValue;\n    }\n    return pieces;\n  }\n}\n"],"sourceRoot":""}]}